var allCats = ["GARDENS","EGYPT","U.S. GEOGRAPHY","AUTOMOBILES","SILLY SONGS","CURRENT EVENTS","ROCK 'N ROLL","HERALDRY","1885","U.S. STATES","COMIC CATS & DOGS","RITUALS","HAVE A \"HART\"","4-LETTER WORDS","FIRST LADIES","WINTER SPORTS","CANADA","U.S. CITIES","FOODS","\"T\" TIME","INSECTS","50TH ANNIVERSARIES","PEOPLE","HOWDY DOODY","POLITICS","WORD ORIGINS","INDIA","MOVIE COMPOSERS","ALL NUMBERS","GOVERNORS","WEATHER","YOU GET A \"D\"","SHIPS","SCOTLAND","4-WORD PHRASES","GEOGRAPHY","GENERALS","AUSTRALIA","ODD JOBS","SPORTS","WEAPONS","SPORTS TRIVIA","MOVIE MOTTOS","MOVIES","TRIVIA","FAMOUS PIGS","HUNTING","BUTLERS","CHEMISTRY","THE '20S","WILD WEST","ASTRONOMY","U.S. BEACHES","LETTER PERFECT","STUFFED","FOOTBALL","POP MUSIC","COOKING","COUNTRY MUSIC","WELCOME TO THE U.N.","DOUBLE MEANINGS","NUTS","STARTS WITH \"OO\"","THE '30S","FOREIGN CUISINE","1933","POP QUIZ","ANATOMY","EASY MATH","OLD TESTAMENT","HISTORY","IN THE MIDDLE","\"BEN\"","1960","WORD PLAY","TRAINS","WEIGHTS & MEASURES","TREES","POTENT POTABLES","FASHION","THE '50S","QUOTE"," UNQUOTE","\"BROWNS\"","WHALES","ODD WORDS","DANCE FEVER","BASEBALL","THE OLYMPICS","NATURE","FOOD FACTS","KID STUFF","CRIME & PUNISHMENT","SUDDEN DEATH","COLORS","\"ON\" WORDS & \"UP\" WORDS","ZOOLOGY","HIGHWAYS & BYWAYS","VIRGINIA","TV TRIVIA","ASIA","\"CAT\" EGORY","MILITARY TELEVISION","WHITE HOUSE TRIVIA","LEAPS & JUMPS","FAIRIES","GANGSTER MOVIES","SEASONINGS","ROCK RECORDS","BEN FRANKLIN","SCIENCE","AFRICA","WATER SPORTS","MOVIE TRIVIA","'40S TRIVIA","BOXING","DOUBLE M","LADIES IN SONG","\"AC\"/\"DC\"","LAKES & RIVERS","PETS","\"WRONG\"","1945","WASHINGTON D.C.","SHAPING UP","THE \"IN\" CROWD","THE '60S","GYMNASTICS","ALL THAT JAZZ","INVENTIONS","TIME","USED-UP CARS","RUSSIAN HISTORY","PLAYWRIGHTS","AMERICAN REVOLUTION","SITCOMS","VEGETABLES","SPORT OF KINGS","\"B\" THERE","DINING OUT","FAIRY TALES","MIRACLES","\"MC\" NAMES","COMEDIANS","CHILD STARS","UP IN \"ARM\"S","FICTION","POE","A","BRAZIL","P'S & Q'S","ROARING '20S","1965","TWINS","WORLD GEOGRAPHY","STARTS WITH \"C\"","STARTS WITH \"B\"","ISLANDS","GAY BLADES","POLITICAL QUOTES","DEMOCRATS","U.S. HISTORY","THE BEATLES","FIRST AID","SONGS","FISH","JAPAN","DEAR JOHNS","FOOD","CARS","SAINTLY CITIES","SUPER HEROES","\"ANDY\"","'60S TRIVIA","ANCIENT WORLDS","HOLLYWOOD LEGENDS","\"HARD\"","GLASS","NUMBER PLEASE","A LA \"CART\"","GAMES","SPORTS QUOTES","ROAD WORK","MAGAZINES","FOLK MUSIC","PRISON SONGS","AWARDS","GRAMMAR","MUSIC","STATE CAPITALS","6-LETTER WORDS","PRESIDENTIAL FIRSTS","BUSINESS & INDUSTRY","COLORFUL GEOGRAPHY","ITALY","FIRST NAME BASIS","\"MARCH\" ON","BALLET","1984","STARTS WITH \"A\"","BOATS","HATS","TELEVISION","GEMS","FORMER OCCUPATION","INITIALS","THE '40S","NURSERY RHYMES","BRITISH ISLES","CABLE TV","MELS","B","C","E","F","D","CHANNELS","\"SHELLS\"","FAST FOOD","THE HOME","LANDMARKS","FEATHERED FRIENDS","EASY LISTENING","SWAMP THINGS","BEST SELLERS","CORPORATE AMERICA","BIRDS","WORLD SERIES","BODIES OF WATER","KIDDIE LIT","LOUISIANA","\"JACKS\" OF ALL TRADES","RADIO","KANSAS","PRESIDENTS","OCEANS","1956","1953","TAXES","\"TOASTS\"","CHEWING GUM","THE WHITE HOUSE","THE OLD TESTAMENT","HOT MOVIES","\"FIRE\"","BRIDGES","1968","RACY LADIES","3-LETTER WORDS","DYNASTIES","ABOUT \"FACE\"","1959","TOUCHDOWN TOPICS","TRADE NAMES","11-LETTER WORDS","SPACE","ROYALTY","TRANSPORTATION","\"FRIDAYS\"","BROADWAY","HOUSEHOLD HINTS","SPAIN","TABLE MANNERS","BEGINS WITH \"L\"","FACTS & FIGURES","RELATIVES","\"B\" MOVIES","NEWSCASTERS","OUTLAWS","ADDRESSES","DOUBLE TALK","EDUCATION","GAY '90S","\"UPS\" & \"DOWNS\"","CALIFORNIA","THE FLINTSTONES","THE 1970S","STATES IN SONG","RELIGION","LEGENDS","MYSTERIES","20TH CENTURY ART","CATS","MONEY","FLOWERS & TREES","NONPOTENT POTABLES","JUST NAMES","GOLF","OSCAR SONGS","ACTORS & ROLES","HOLIDAYS","PEACE","SINGERS & DANCERS","NEW HAMPSHIRE","JARGON","TRIOS","\"CAN\" IT","MUSIC ON THE MAP","HOMONYMS","LEFTOVERS","CARTOONS","THE COMICS","VACATION SPOTS","BOWLING","WORLD CAPITALS","LITERARY QUOTES","THE BULL PEN","SIR! YES SIR!","STARTS WITH \"N\"","SINGERS & SONGS","AUGUST","WW II AVIATION","BROTHERS GRIMM","SOUTH AMERICA","FASHION HISTORY","\"HALL\"S","TRENDS","BY THE NUMBERS","ROCK ÂN ROLL","AMERICAN LITERATURE","STARTS WITH \"H\"","STARTS WITH \"Q\"","TOYS & GAMES","MOVIE MAMMALS","THE KENNEDYS","THE AIR FORCE","12S","MOSCOW","PENNSYLVANIA","AMERICAN INDIANS","MYTHOLOGY","FAMOUS DUNCANS","BOTANY","CITIZENSHIP TEST","RATED \"EX\"","EASY SCIENCE","TALK LIKE THE ANIMALS","MUSICAL NIGHTS","UTAH","MARXISMS","IN OTHER WORDS","BICYCLES","MONOPOLY","BOUNCE","LANGUAGE","1976","INFANCY","HORSES","COMMUNICATION","BOTANICAL SONGS","3","FOOD TRIVIA","TRADE CENTERS","PSYCHOLOGY","BUSINESSMEN","TV GALS","THE EARTH","IDAHO","COINS","TOP 40","ANCIENT AMERICA","GARDENING","TECHNOLOGY","THE FOOD STORE","WEDDINGS","4","LABOR","STUPID ANSWERS","SEA LIFE","ENDS IN \"OO\"","IN THE KITCHEN","2","FRUITS","MEDICINE","ELECTRONICS","\"C\" WORDS","CLOCKS","ALL KINDS OF RED","BEER","TRAVEL U.S.A.","LITERATURE","1958","TAX FACTS","'60S BRITISH ROCK","\"SEA\" WORDS","GIRLS IN SONG","STARTS WITH \"D\"","FAMOUS NAPOLEONS","AVIATION","OLD RADIO","\"LITTLE\" SONGS","NAMED FOR","GREECE","MILITARY MEN","\"MOON\"S","WAYS & MEANS","NO NO'S","5","\"LONG\" SONGS","1","MINERALS","RIVER SONGS","ASTRONOMICAL SONGS","TOYS IN SONG","PUMPKINS","5-LETTER WORDS","RULERS","ENDS IN \"ID\"","TRUCKS","PATRON SAINTS","DETECTIVE FICTION","G.W. CARVER","DOGS","MYSTERIOUS EAST","HOLLYWOOD","TENNIS","COMMOND BONDS","\"GRAND\"","CHICKENS","GAME SHOWS","COMIC STRIP DOGS","BREAD","ROBIN HOOD","ETIQUETTE","MEDAL OF HONOR WINNERS","20TH CENTURY","6","\"K\" ON THE MAP","GERMANY","CLASSICAL MUSIC","\"LINE\"S","\"COCK\" A DOODLE DO","ASTROLOGY","AROUND THE HOUSE","SPORTS DATES","PETROLEUM","\"BLACK\"","YOUNG STARS","SCIENCE & NATURE","MOVIE ANIMALS","STATE BIRDS","COOKING TERMS","LEFT & RIGHT","SONGS WITH \"HEART\"","DISNEY","NICKNAMES","PRESIDENTIAL TRIVIA","KNOTS TO YOU","MINI-COUNTRIES","20TH CENTURY AMERICA","GAMBLING","CASABLANCA","THE LONGEST","POLITICAL TRIVIA","CHOCOLATE","#1 SONGS","\"LIFE\"","WE CAN BE HEROES","VERMIN","MUSICAL MONTHS","METALS","\"UPPER\"S","MEDICAL TRIVIA","AMERICAN FOOD AND DRINK","'70S MOVIES","BEASTLY QUOTES","WHAT'S \"UP\" DOC","MODERN HISTORY","\"TIME\"LY SONGS","HARDWARE STORE","MUSICAL ANATOMY","JUST DESSERTS","THE LAW","MEDICAL FOLKLORE","ADVERTISING SLOGANS","FAMOUS \"VAN\"S","FAVORITE PASTIMES","HEAVEN","NEWSPAPERS","UNREAL ESTATE","GOLDEN OLDIES","CARS IN SONG","JEWELRY","TRIPLE TALK","CARDS","LIGHTNING","\"F\" WORDS","AGES","LAWS & RULES","FIRSTS","COMPLETE A PHRASE","NAME CHANGES","EARLY MAN","WORMS","ODDS & ENDS","ART","\"SICK\"","BRITISH CLOTHING","FAIRIES & WEE FOLK","NUMBERS","BOTTOMS UP","NOTORIOUS WOMEN","AUTOMOBILE TRIVIA","SPORTS MOVIES","MUNCHY MOVIES","WAR STORIES","SAILING","WORLD HISTORY","HOTELS","SOUTHERN COOKING","MUSICAL INSTRUMENTS","\"ROCKY\"S","THE HUMAN BODY","ILLINOIS","GOVERNMENT","NAMES","WASHINGTON STATE","GREAT \"SCOTT\"","THE 1950S","TV NEIGHBORS","\"GARDENS\"","MAYBE WE'LL INVADE BRITAIN!","WILD CATS","BOOKS & AUTHORS","THE THEATRE","THE PLANETS","STORMS","1932","\"BULL\"","PROVERBIAL ANATOMY","WOOD","\"7\" MOVIES","PARADES","DOCTORS","BANANAS","\"WIND\" WORDS","\"J\" WORDS","SODA POP QUIZ","GHOSTS","SHAKESPEARE","ÂSTREETSÂ","THE Â70S","SONGS WITH SPIRITS","POULTRY","MATH CLASS","HOMOPHONES","STARTS WITH \"Y\"","THE OSCARS","STARTS WITH ÂBÂ","PRESIDENTIAL QUOTES","WWII TRIVIA","1974","SMOKING","BEAR FACTS","POLAND","NUMBERS IN SONG","DOLLS","COMIC STRIPS","HOLLYWOOD DOGS","FEMININE FIRSTS","PLANT NAMES","FAMILIAR PHRASES","SPELLING","LAS VEGAS","MS.","12-LETTER WORDS","STARTS WITH \"M\"","FAMOUS NAMES","OPERA","MUSICAL NUMBERS","AUTOBIOGRAPHIES","BLOOD","THE 1950'S","THE HOSPITAL","O'HOLLYWOOD","WINE","HANDICRAFTS","SPORTS STADIUMS","GOBBLEDYGOOK","BIOLOGY","FARAWAY PLACES","EATING IN AMERICA","ROCK N' ROLL HEAVEN","HOLLYWOOD HORSES","FURNITURE","ROCKS & MINERALS","SCIENCE TRIVIA","19TH CENTURY","FICTIONAL ANIMALS","MOVIE MONSTERS","NEWSPAPER FILLERS","TOY NAMES","HERBS & SPICES","TV HORSES","FOOD & DRINK","\"NORTH\"","ALL \"THUMB\"S","STARTS WITH \"Z\"","ENGINEERING","Â70S CINEMA","ÂCCÂ","\"ROCK\" & \"ROLL\" SONGS","MISSOURI","PRIMATES","OKLAHOMA","\"UP\" SONGS","DANCE SONGS","MAKEUP","FROGS","COFFEE","TV NUMBERS","CELEBRITY SAYINGS","DIRECTIONS","'50'S TV","AUTO SHOP","SOMETHING \"OLD\"","LOVE","OLYMPIC HISTORY","A.K.A.","\"FOR\" WORDS","NOTABLE ANIMALS","AMERICAN FOLKLORE","STARTS WITH \"G\"","FAMOUS COWS","ORGANIZATIONS","NAMES IN THE NEWS","ANIMAL ADJECTIVES","FAMOUS DUCKS","NOTORIOUS","BRITISH TV","COMPARISONS","PORCUPINES","MONEY SONGS","ARMED FORCES","MULES","\"DANCE\" SONGS","\"K.K.\"","TIES & SCARVES","MEASURE TWICE","ANTS","RACQUET SPORTS","OF \"LOVE\"","BIBLICAL ZOO","THE MIDDLE EAST","FAMOUS SHEPHERDS","THE MILITARY","SPORTSCASTS","VOCABULARY","THE CIVIL WAR","SHOW BIZ SHELLEYS","INCREDIBLE EDIBLES","FRUITS & VEGETABLES","UTILITIES","VITAMINS & MINERALS","REMAKES","SWEETS","DEPARTMENT STORES","THE BRAIN","DOGS IN LITERATURE","'60S SONGS","THE BAHAMAS","\"THE\"","CARS BY THE NUMBER","THOSE DARN OYSTERS","STAMPS & COINS","LYRICS","TV SISTERS","MIDDLE NAMES","NUCLEAR PHYSICS","\"BELL\"S","COLLEGE GRADS","MOVIE TITLE ROLES","FORESTS","RUBBER","\"M\"ENAGERIE","FOLK DANCES","FURRY CREATURES","RESORTS","COUNTIES","QUOTES","FABLES & TALES","WORDS OF THE '80S","END OF THE WAR","HAMLET","GUAM","STUPID GEOGRAPHY","AUTHORS' MAIDEN NAMES","ALPHABETICALLY FIRST","STARTS WITH \"F\"","WATER","TV IN FILM","THE 4TH OF JULY","EVERYDAY SCIENCE","HOUSE PLANTS","THE JUNGLE","READ THE LABEL!","COMMON BONDS","MOVIE DETECTIVES","TRIVIAL WORLD RECORDS","AIRPORTS","NAMESAKES","SINGERS' AUTOBIOGRAPHIES","AMERICAN MUSIC","MARINE BIOLOGY","STERN LOOKING","WARS","N. AMERICAN ANIMALS","POT LUCK","DID YOU NOTICE?","COLLEGES","THE MIDWEST","WORLD RELIGION","MUSICAL INTROS","MEN & WOMEN","\"IN\" & \"OUT\"","START AT THE \"TOP\"","CLOTHING","BRIDGE","BASEBALL LINGO","LITERARY GEMS","\"G\" WHIZ","CRITICALLY SPEAKING","THE MOVIES","N.E.W.S.","MUSICAL MEMORIES","KITCHEN FIRSTS","AMERICANA","TV DETECTIVES","LESOTHO","MAYORS","TV UNCLES","POETRY","CAMELS","SOUTH AFRICA","\"BEAN\" BAG","SHERLOCK HOLMES","ATMOSPHERIC SONGS","GUNS","MEMPHIS","METROPOLITAN OPERA","SPINOFFS","\"OUT\" WORDS","\"JUNGLE\" JIVE","'50S POP","TV THEMES","THE MIDDLE AGES","AUTHORS' MIDDLE NAMES","BROADWAY LYRICS","RUSSIA","'50S TRIVIA","FRANCE","BIOGRAPHIES","THE B&O RAILROAD","THE 50 STATES","IRELAND","MACY'S PARADE","COLONIAL AMERICA","HOLLYWOOD QUOTES","LUNCH COUNTER LINGO","THE KING","ANAGRAMS","THE INSTRUMENT PLAYED","ANCIENT TELEVISION","MOVIE ADJECTIVES","SAN FRANCISCO","3-LETTER FOODS","MISS AMERICA","LOVE & MARRIAGE","FAMOUS CATTLE","LESSER-KNOWN NAMES","DISNEYLAND","WOOD ON THE MAP","FINE CHINA","SHOW MUSIC","LIFE BEGINS AT 40","THE SENSES","SONGS THAT \"DO\"","CHILDREN'S SONGS","SUMMER SONGS","WINES","LANGUAGES","10-HUT!","BIG BANDS","OSCAR-LOSING SONGS","THE YOUNGEST","BEAVERS","BEEF","ANCIENT ROME","BRITISH GHOSTS","BELGIUM","TRANSPORTATION IN FILMS","WOMEN IN HISTORY","MAN IN SPACE","CARTOON BEARS","NAME'S THE SAME","AMY VANDERBILT SAYS","1986","THE JET SET","HIPS","FAMOUS LASTS","STARTS WITH \"P\"","\"RED\"","EASY OPERA","ANTONYMS","SLEEP","1971","EQUIVALENCIES","ONE SONG","BANKING","SPORTS LEGENDS","INDIANS","\"A.C.\"","\"SOME\" SONGS","BEACHES","U.S.A.","IF ANYONE ASKS","BEAUTY SECRETS","STARTS WITH \"K\"","FAMOUS QUOTES","#1 HITS","MOTHER GOOSE","REVOLUTIONARY WAR","MUSIC TRIVIA","SUMMER","PLANTS","STATE FISH","NAME THAT TEAM","CELEBRITY QUOTES","THE HUSBAND MARRIED","NOISEMAKERS","YE GODS","THE MAIN INGREDIENT","PRISONS","COWBOY TALK","GEOGRAPHICAL SONGS","STARRY SONGS","GOING IN STYLE","GET THE \"POINT\"","ADVERTISING MYTHOLOGY","FOREIGN SPORTS","SPACE & AVIATION","RELATIVES IN SONG","THE PACIFIC NORTHWEST","LANGUAGE OF FLOWERS","WORDS","THE FUNNIES","FRANKENSTEIN","RADIO COMEDY","MICE","HONDURAS","GRAY MATTERS","THE VATICAN","TV NOSTALGIA","\"YANKEE\"S","HEROES & VILLAINS","THE LIBRARY","ZEBRAS","ANIMAL RECORDS","BOARD GAMES","HOBBIES","LEAD SINGERS","BUSINESS BIGGIES","NOVEL PLOTS","POP SINGERS","NAUTICAL TRIVIA","\"SQUARE\" DEAL","\"SOUR\"","PBS","ENGLAND","CAR TALK","SINGERS","PLAYTIME","MCDONALD'S","THE UNIVERSE","HEAVY METAL","LIBRARIES","CARTOON QUOTES","CONSTELLATIONS","1982","\"TOP\" THIS","DOLLY PARTON","HOW TO...","WORDS OF THE PAST","HOT DOG!","AMPHIBIANS","MULTIPLE CHOICE","U.S. LANDMARKS","PHYS. ED.","FAMOUS BEARDS","COMIC BOOKS","FOREIGN U.S. CITIES","CRACKER JACK","ANGELS","1-WORD SONGS","\"SOFT\"","TAKE A GUESS","GREETING CARDS","ISRAEL","CELEBRITY SECRETS","PSYCH 101","WHAT'S NEW","WORLD WAR II","FACES","\"ONE"," TWO"," THREE\"","SEE THE USA","BALD IS BEAUTIFUL","BOGIE","FUNNY MEN","FORMER CAPITALS","YELLOW SONGS","\"BIG\"","THE \"RIGHT\" STUFF","STUDENTS ON TV","SWIMMING & DIVING","BICYCLING","TEEN CLUBS","PALINDROMES","PERFUME","TV ALIENS","OUTDOOR SPORTS","ACTRESSES","\"BUG\"S","MUHAMMAD ALI","FAMOUS PATS","TEEN CUISINE","FAMOUS PARKS","JULY","\"WORLD\"LY SONGS","JAIL","BIBLICAL RESULTS","MOVIE CRITICS","DIRTY WORDS","WORLD OF BEERS","\"MORNING\" SONGS","CELEBRITY TRADEMARKS","DANGEROUS ANIMALS","1951","ANIMAL NOISES","ACCORDING TO SPOCK","SONGS THAT \"COME\" & \"GO\"","COMPLETE THE QUOTE","FAMOUS ROBOTS","B.B.","HEARTTHROBS","THE FOOD BUSINESS","JUNK FOOD","\"BALL\" 1","GEOGRAPHIC PAIRS","BEES","POP MUSIC TRIVIA","PLAYGROUND RHYMES","\"UN\"","FASHION DESIGNERS","FOOTBALL NICKNAMES","1927","SEA CREATURES","BRITISH SUCCESSION","PHONE NUMBERS","FOREIGN PHRASES","THE LETTER G","MARCH","NEW YORK CITY","\"AN\"IMALS","RED SHOES","FITNESS","CLASSIC COUNTRY","FICTIONAL BOYFRIENDS","\"ON\" & \"OFF\" SONGS","VICE-PRESIDENTS","MUSEUMS","1986 FILMS","FAMOUS DOGS","CRIME","IMELDA MARCOS","MORTAL MATTERS","CATS & DOGS","SAINTS","CONTESTS","BOYS IN SONG","SOAP OPERAS","HOLLYWOOD QUEENS","THE SOLAR SYSTEM","ACCESSORIES","GOATS","JAZZ NICKNAMES","NATURAL RESOURCES","AGRICULTURE","AFRICAN ANIMALS","DANCE","WE'RE #2","\"F\" IN FRENCH","ADVERTISING","FEBRUARY","HERALDIC BEASTS","PIGS","BLUNDERS","THE BRITISH ISLES","FAMOUS PAIRS","FEMALE SINGERS","FOLK SONGS","COMPOSERS"];
var allIds = [68,76,94,23,24,56,32,55,1,49,4,84,6,16,67,50,42,19,90,39,64,37,95,98,99,96,33,38,62,25,36,11837,7,105,26,51,17,103,101,81,69,65,14,102,20,18,21,70,80,31,89,13,61,12,35,15,2,63,9,19314,82,30,60,106,79,40,72,46,73,44,22,53,66,29,41,52,97,57,10,34,83,75,78,54,45,87,100,27,5,74,58,77,93,48,88,91,3,71,28,59,104,4897,1239,108,8,107,2865,1238,189,135,187,164,43,128,167,133,198,149,170,132,112,186,172,111,130,202,131,165,153,146,196,1237,195,150,143,119,177,1240,147,193,118,120,159,134,136,127,168,137,201,123,197,124,214,121,182,163,117,184,194,115,174,114,188,1242,199,209,145,122,156,178,180,162,176,154,155,157,175,129,173,125,200,191,151,171,192,160,110,126,210,179,161,190,183,213,204,208,207,144,152,206,113,86,203,212,116,205,166,185,169,1241,138,139,141,142,140,26221,211,220,235,158,292,314,309,261,275,295,236,231,302,317,249,238,287,229,312,274,219,304,221,294,259,319,240,298,223,242,252,269,279,276,226,255,308,313,260,271,267,225,270,320,217,280,244,296,262,250,285,254,253,248,232,245,257,277,297,291,246,264,215,251,282,301,241,268,288,256,283,222,273,227,286,224,305,278,218,216,281,272,284,228,234,299,293,243,258,303,4900,306,307,239,310,311,290,300,315,233,266,318,263,230,247,47,388,316,350,351,336,393,343,391,339,363,415,332,414,362,364,330,428,321,325,356,425,383,353,355,407,370,341,420,358,344,322,347,329,387,340,401,346,349,337,389,333,357,421,361,327,334,365,409,419,328,392,359,360,367,369,348,403,373,366,382,331,390,396,378,352,399,411,398,372,326,385,324,404,381,422,335,418,323,384,402,400,394,338,424,412,408,342,397,406,371,410,413,374,416,417,386,395,375,368,379,377,4898,405,423,2869,354,380,345,471,459,485,444,445,431,482,531,430,478,461,522,501,469,477,466,490,447,494,491,443,451,433,525,436,437,25356,480,481,514,483,472,462,463,484,465,520,453,454,476,499,439,440,504,473,474,475,441,450,446,498,464,506,488,487,458,467,508,442,496,521,519,502,456,500,486,470,435,497,513,529,493,523,495,452,511,429,432,1243,492,510,426,512,449,448,434,515,489,518,517,14446,468,509,507,532,457,526,528,527,479,530,516,455,524,534,460,573,557,571,567,551,552,553,537,558,536,638,554,542,599,1245,559,601,579,626,618,602,570,578,610,627,593,566,572,600,615,583,628,574,555,560,544,545,546,547,543,609,620,539,585,549,550,611,582,568,587,561,594,614,565,588,575,591,562,581,584,595,603,576,577,608,619,607,589,605,586,590,556,538,617,598,624,592,548,612,540,613,580,621,616,2868,604,623,596,533,625,622,535,564,629,631,630,632,636,633,634,635,7452,640,1246,12586,606,696,639,718,655,676,731,659,689,678,642,643,670,700,660,717,644,716,720,721,711,712,734,647,674,699,725,663,646,1244,650,705,714,675,677,727,686,661,652,654,668,641,706,649,685,645,671,662,666,688,664,648,667,669,736,707,682,665,693,701,704,702,703,679,681,673,743,658,697,684,690,691,692,695,651,653,687,713,683,715,719,708,728,729,722,680,724,2867,726,742,672,730,732,723,735,733,656,737,738,739,740,741,710,698,657,694,783,786,804,795,746,753,773,801,826,754,799,752,802,805,792,13467,840,747,780,803,751,825,844,767,798,772,789,815,760,835,847,778,774,4899,769,781,782,768,770,797,771,757,759,811,810,762,822,750,744,806,812,776,843,808,749,785,756,755,787,748,777,791,823,819,796,807,763,809,841,829,818,761,745,817,831,824,821,758,842,830,814,800,816,820,779,765,793,827,828,836,834,833,766,837,838,788,813,794,775,784,846,845,848,839,764,921,849,908,916,877,866,856,909,865,850,901,852,853,917,869,897,911,867,910,894,895,891,947,854,892,880,857,859,864,858,860,887,906,926,883,872,898,873,874,942,861,875,863,884,870,952,955,896,868,855,918,890,950,862,879,933,913,939,936,899,930,888,889,881,915,904,905,893,900,924,907,885,929,938,931,932,925,922,903,851,927,919,920,940,928,953,935,934,937,941,886,876,943,944,945,946,948,2871,951,871,949,912,882,914,878,923,2872,973,1037,956,954,1049,961,1019,1020,974,1057,957,1007,1022,978,985,1048,1038,965,998,963,1000,1013,4896,962,1010,990,1034,976,1042,979,991,1054,1011,1051,1055,966,967,988,1003,986,981];
var gameBoard = [[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1],[1,1,1,1,1]];
// 0 = main menu,  1 = options, 2 = game, 3 = question , 5 = free play
var scene = 0;
var category = [];
var tempIndex = 0;
var tempCat = 0;
var i;
var dark = false;

function start(val) {
  if (val == 0) {
    transition("title","options");
    document.getElementById("title-logo").style.top = "24px";
    document.getElementById("title-logo").style.fontSize = "24px";
    document.getElementById("header-back").style.left = "20px";
    updateCategories();
    scene = 1;
  } else if (val == 1) {
    transition("title","game",750);
    document.getElementById("title-logo").style.top = "24px";
    document.getElementById("title-logo").style.fontSize = "24px";
    document.getElementById("header-back").style.left = "20px";
    document.getElementById("header-refresh").style.right = "20px";
    document.getElementById("question-a").innerHTML = "";
    refreshCategories();
    scene = 2;
  } else if (val == 2) {
  	//Regular Game
  } else if (val == 3) {
    transition("options","free-play");
    freePlay();
    scene = 5;
  }
}

function back() {
  if (scene == 1) {
    transition("options","title");
  } else if (scene == 2) {
    transition("game","title");
  }	 else if (scene == 3) {
    transition("question","title");
  } else if (scene == 5) {
    transition("free-play","title");
  }
  document.getElementById("title-logo").style.top = "25vh";
  document.getElementById("title-logo").style.fontSize = "64px";
  document.getElementById("header-back").style.left = "-24px";
  document.getElementById("header-refresh").style.right = "-24px";
  scene = 0;
}

function changeTheme() {
  if (dark) {
  	document.documentElement.style.setProperty('--c1', '#E26310');
    dark = false;
  } else {
    document.documentElement.style.setProperty('--c1', '#353535');
    dark = true;
  }
}

function transition(to, from, duration) {
  if (duration == null) {
    duration = 300;
  }
  var a = setTimeout(function() {
    document.getElementById(to).style.display = "none";
      document.getElementById(from).style.display = "inline";
      document.getElementById("transition-layer").style.opacity = 0;
    }, duration);
  document.getElementById("transition-layer").style.opacity = 1;
}

function closeQuestion() {
  document.getElementById("question").style.display = "none";
  document.getElementById("game").style.display = "inline";
  document.getElementById(tempCat + "-" + (tempIndex+1) * 200).innerHTML = "";
  document.getElementById(tempCat + "-" + (tempIndex+1) * 200).style.background = "none";
  gameBoard[tempCat][tempIndex] = 0;
  document.getElementById("question-a").innerHTML = "";
  scene = 2;
  document.getElementById("header-back").style.display = "inline";
  document.getElementById("header-refresh").style.display = "inline";
  // grey out a finished category
  if (gameBoard[tempCat].every((val, i, arr) => val === 0 )) {
    document.getElementById("game-section-" + tempCat).style.opacity = "0.5";
  }
}

for (i=0;i<6;i++) {
  id = Math.floor(Math.random() * 5505);
  getCategories(i, id);
}

function updateCategories() {
  for (i=0;i<6;i++) {
    document.getElementById("cat-" + i).innerHTML = category[i].title.toUpperCase();
    document.getElementById("cat-" + i + "-date").innerHTML = category[i].clues[0].airdate.substring(0,4);
    document.getElementById("game-section-" + i).style.opacity = "1";
    if (category[i].clues.length > 0) {
      document.getElementById(i + "-200").innerHTML = "$200";
      document.getElementById(i + "-200").style.backgroundColor = "var(--c2)";
    }
    if (category[i].clues.length > 1) {
      document.getElementById(i + "-400").innerHTML = "$400";
      document.getElementById(i + "-400").style.backgroundColor = "var(--c2)";
    }
    if (category[i].clues.length > 2) {
      document.getElementById(i + "-600").innerHTML = "$600";
      document.getElementById(i + "-600").style.backgroundColor = "var(--c2)";
    }
    if (category[i].clues.length > 3) {
      document.getElementById(i + "-800").innerHTML = "$800";
      document.getElementById(i + "-800").style.backgroundColor = "var(--c2)";
    }
    if (category[i].clues.length > 4) {
      document.getElementById(i + "-1000").innerHTML = "$1000";
      document.getElementById(i + "-1000").style.backgroundColor = "var(--c2)";
    }
  }
}

function getCategories(i, id) {
fetch('https://jservice.io/api/category?id=' + id)
  .then(response => response.text())
  .then((data) => {
    category.push(JSON.parse(data));
    document.getElementById("cat-" + i).innerHTML = category[i].title.toUpperCase();
  })
}

function refreshCategories() {
  category = [];
  tempIndex = 0;
  tempCat = 0;
  for (i=0;i<6;i++) {
    id = Math.floor(Math.random() * 5505);
    getCategories(i, id);
  }
  setTimeout(function() {
    updateCategories();
  }, 750);
}

function showClue(cat, index) {
  document.getElementById("question").style.display = "inline";
  document.getElementById("game").style.display = "none";
  document.getElementById("question-category").innerHTML = category[cat].title.toUpperCase();
  document.getElementById("question-q").innerHTML = category[cat].clues[index].question;
  tempIndex = index;
  tempCat = cat;
  document.getElementById("header-back").style.display = "none";
  document.getElementById("header-refresh").style.display = "none";
  scene = 3;
}

function showAnswer() {
  document.getElementById("question-a").innerHTML = category[tempCat].clues[tempIndex].answer;
}

var players = 3;
function addPlayer(val) {
  players += val;
  if (players < 1) {
    players = 1;
  } else if (players > 5) {
    players = 5;
  }
  document.getElementById("option-number").innerHTML = players;
}



var select = document.getElementById("category-select");
var freePlayOptions = [];
var freePlayIds = [];
var categoryId = 0;

function freePlay() {
fetch('https://jservice.io/api/categories?count=100&offset=900')
  .then(response => response.text())
  .then((data) => {
    var raw = JSON.parse(data);
    for (i=0;i<100;i++) {
      freePlayOptions.push(raw[i].title.toUpperCase());
      freePlayIds.push(raw[i].id);
    }
    populate();
  })
}

function populate() {
  for(var i = 0; i < allCats.length; i++) {
    var opt = allCats[i];
    var optId = allIds[i];
    var el = document.createElement("option");
    el.textContent = opt;
    el.value = optId;
    select.appendChild(el);
  }
}

function freePlayChange() {
  document.getElementById("free-play-questions").style.display = "block";
  freePlayGetClues(document.getElementById("category-select").value);
}

function freePlayGetClues(val) {
  fetch('https://jservice.io/api/category?id=' + val)
  .then(response => response.text())
  .then((data) => {
    var raw = JSON.parse(data);
    freePlayCreateTable(raw);
  })
}

function freePlayCreateTable(raw) {
  var curDate = raw.clues[0].airdate;
  var table = false;
  var result = getDate(raw.clues[0].airdate) + '<br>';
  for (i=0;i<raw.clues.length;i++) {
    if (raw.clues[i].airdate != curDate) {
      result += '</table>';
      table = false;
      result += '<br>' + getDate(raw.clues[i].airdate) + '<br>';
      curDate = raw.clues[i].airdate;
    } else {
      if (!table) {
	    result += '<table class="free-play-table">';
        table = true;
      }
      result += '<td style="background-color: var(--c2);">' + raw.clues[i].value + '</td>';
    }
  }
  document.getElementById("free-play-questions").innerHTML = result;
}

// Takes a string in format YYYY-MM-DD and returns in Month Day, Year.
function getDate(str) {
  var month = str.substring(5,7);
  if (month == '01') {
    month = 'January';
  } else if (month == '02') {
    month = 'February';
  } else if (month == '03') {
    month = 'March';
  } else if (month == '04') {
    month = 'April';
  } else if (month == '05') {
    month = 'May';
  } else if (month == '06') {
    month = 'June';
  } else if (month == '07') {
    month = 'July';
  } else if (month == '08') {
    month = 'August';
  } else if (month == '09') {
    month = 'September';
  } else if (month == '10') {
    month = 'October';
  } else if (month == '11') {
    month = 'November';
  } else if (month == '12') {
    month = 'December';
  }
  var day = str.substring(8,10);
  var year = str.substring(0,4);
  var result = month + ' ' + day + ', ' + year;
  return result;
}
